{% extends "large_container.html" %}

{% load thumbnail %}

{% block inner_content %}

<!-- Name and contact info-->
<div>
  <div class="profile-name">
    <h3>{{ profile.get_full_name }}</h3>
  </div>
  {% thumbnail profile.pic "200x200" crop="center" as im %}
    <img style="float: right;" src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}">
  {% endthumbnail %}
  <h4>Personal Information</h4>
  <div class="profile-contact-card">
    <p><span class="profile-contact-field">Class:</span> {{ profile.class_year }}</p>
    <p><span class="profile-contact-field">Phone number:</span> {{ profile.phone_number }}</p>
    <p><span class="profile-contact-field">Email:</span> {{ profile.email }}</p>
    <p>Birthday: {{ profile.birthday }}</p>
    <p>Hometown: {{ profile.hometown }}</p>
    <p>High School: {{ profile.high_school }}</p>
  </div>
</div>

<h4>Education
  <button type="button" class="btn btn-sm profile-show-btn" data-toggle="collapse" data-target="#education">Show</button>
</h4>
<div id="education" class="collapse">
{% for degree in profile.degrees.all %}
  <div class="well experience">
    <p class="school-name">School: {{ degree.school }}</p>
    <p>Type: {{ degree.degree_type }}</p>
    <p>Time period: {{ degree.start_time }} - {{ degree.end_time }}</p>
    {% for major in degree.majors.all %}
      {% if major.utd_major %}
        <p>Major: {{ major.utd_major }}</p>
<!--      {% elif major.other_major %}-->
      {% else %}
        <p>Major: {{ major.other_major }}</p>
      {% endif %}
    {% endfor %}
    {% for minor in degree.minors.all %}
      {% if minor.utd_minor %}
        <p>Minor: {{ minor.utd_minor }}</p>
      {% elif minor.other_minor %}
        <p>Minor: {{ minor.other_minor }}</p>
      {% endif %}
    {% endfor %}
  </div>
{% endfor %}
</div>

<h4>Experience
  <button type="button" class="btn btn-sm profile-show-btn" data-toggle="collapse" data-target="#experience">Show</button>
</h4>
<div id="experience" class="collapse">
  {% for experience in profile.experiences.all %}
  <div class="well experience">
    <p>Title: {{ experience.title }}</p>
    <p>Organization: {{ experience.organization }}</p>
    <p>Location: {{ experience.location }}</p>
    <p>Type: {{ experience.exp_type }}</p>
    <p>Time period: {{ experience.start_time }} - {{ experience.end_time }}</p>
  </div>
  {% endfor %}
</div>

<h4>Study Abroad
  <button type="button" class="btn btn-sm profile-show-btn" data-toggle="collapse" data-target="#study-abroad">Show</button>
</h4>
<div id="study-abroad" class="collapse">
  {% for study_abroad in profile.studiesabroad.all %}
  <div class="well experience">
    <p>Location: {{ study_abroad.primary_location }}</p>
    <p>Organization: {{ study_abroad.organization }}</p>
    <p>Other locations: {{ study_abroad.other_locations }}</p>
    <p>Type: {{ study_abroad.study_abroad_type }}</p>
    <p>Time period: {{ study_abroad.start_time }} - {{ study_abroad.end_time }}</p>
  </div>
  {% endfor %}
</div>

{% if edit %}
  <a href="{% url 'edit_info' %}" class="btn btn-default">Edit Profile</a>
  <br>
{% endif %}

{% endblock %}
